``## 힙


![[Pasted image 20240701183526.png]]

완전 이진 트리(Complete Binary Tree) 자료구조이다.

| 힙   | 최소 힙(Min Heap)       | 최대 힙(Max Heap)      |
| --- | -------------------- | ------------------- |
|     | 루트 노드가 가장 작은 값을 가진다. | 루트 노드가 가장 큰 값을 가진다. |
|     | 작은 값 먼저 제거된다.        | 큰 값 먼저 제거된다.        |
모든 노드들에 대해 부모 노드는 자식 노드들보다 우선순위가 크거나 같아야 한다.
즉, 루트 노드가 우선순위가 가장 높다.

1. 데이터 삽입
	1) 삽입되는 데이터를 우선순위가 가장 낮은 것으로 가정하고 힙의 가장 끝에 데이터를 삽입한다.
	2) 해당 데이터를 부모와 비교해 부모보다 우선순위가 높으면 자리를 바꾸고 우선순위가 낮으면 멈춘다.
	3) 삽입된 데이터가 멈추거나 노드까지 갈 때까지 이를 반복한다.

![[Pasted image 20240701190339.png]]

1. 데이터 제거
	1) 노드를 제거하고 가장 끝에 있는 노드의 값을 루트 자리에 넣는다.
	2) 왼쪽 자식과 오른쪽 자식과 자신을 비교해 우선순위가 높은 자식과 값을 바꾼다.
	3) 우선순위가 자신이 제일 높아지거나 끝으로 갈 때까지 반복한다.
![[Pasted image 20240701190821.png]]


| 구현 방법 | 삽입 시간   | 삭제 시간   |
| ----- | ------- | ------- |
| 리스트   | O(1)    | O(N)    |
| 힙     | O(logN) | O(logN) |

새로운 원소가 들어왔을 때는 상향식으로 Heapify를 진행한다.

원소를 제거할 때는 하향식으로 Heapify를 진행한다.

---

```java
package _dataStructure;  
  
import java.util.Collections;  
import java.util.PriorityQueue;  
  
public class MyPriorityQueue {  
    public static void main(String[] args) {  
        PriorityQueue<Integer> pq1 = new PriorityQueue<>();  
        PriorityQueue<Integer> pq2 = new PriorityQueue<>(Collections.reverseOrder());  
  
        pq1.add(1);  
        pq1.add(5);  
        pq1.add(3);  
  
        pq2.add(1);  
        pq2.add(5);  
        pq2.add(3);  
  
        System.out.println("pq1(낮은 값부터 나오는 우선순위 큐)");  
        while (!pq1.isEmpty()) {  
            System.out.println(pq1.poll());  
        }  
  
        System.out.println("pq2(높은 값부터 나오는 우선순위 큐)");  
        while (!pq2.isEmpty()) {  
            System.out.println(pq2.poll());  
        }  
  
        PriorityQueue<MyClass> pq3 = new PriorityQueue<>();  
        pq3.add(new MyClass(1, "hi"));  
        pq3.add(new MyClass(5, "hello"));  
        pq3.add(new MyClass(3, "world"));  
  
        while (!pq3.isEmpty()) {  
            MyClass temp = pq3.poll();  
            System.out.println(temp.num + " " + temp.str);  
        }  
    }  
  
    private static class MyClass implements Comparable<MyClass> {  
        int num;  
        String str;  
  
        public MyClass(int num, String str) {  
            this.num = num;  
            this.str = str;  
        }  
  
        @Override  
        public int compareTo(MyClass myClass) {  
            if (this.num < myClass.num) {  
                return -1;  
            } else if (this.num > myClass.num) {  
                return 1;  
            }  
            return 0;  
        }  
    }  
}
```
```
pq1(낮은 값부터 나오는 우선순위 큐)
1
3
5
pq2(높은 값부터 나오는 우선순위 큐)
5
3
1
1 hi
3 world
5 hello
```




