|   |   |
|---|---|
|1|0|
|1|1|

|   |   |
|---|---|
|1|0|
|1|1|

|   |   |
|---|---|
|1|0|
|1|1|

  

  

함수를 하나만 쓰지 않고 심지어 함수가 자기 자신을 호출(재귀)할 수도 있다.

  

```JavaScript
//분할함수
function subdivide(x, y, size)
{
	if (size != 1 && 정사각형 안의 픽셀이 다 같은 색이 아님) {
		half = size / 2;
		subdivide(x, y, half); // 3사분면을 재귀
		subdivide(x, y + half, half); // 2사분면을 재귀
		subdivide(x + half, y + half, half); // 1사분면을 재귀
		subdivide(x + half, y, half); // 4사분면을 재귀
	} else {
		정사각형에 정보 저장(픽셀이 다 같은 값)
	}
```

  

위는 그림 압축을 간단하게 표현한 재귀 함수다.

  

![[Untitled 39.png|Untitled 39.png]]

  

위 흑백 사진을 위 재귀 함수 subdivide에 넣는다 생각해보자.

검은 색은 1, 하얀 색은 0으로 표기했다.

|   |   |   |   |
|---|---|---|---|
|0|0|0|1|
|0|0|0|0|
|1|0|0|0|
|1|1|1|1|

첫째줄을 실행하면 다음과 그림이 나올 것이다.

재귀함수로 이를 다시 표현하면

|   |   |
|---|---|
|1|0|
|1|1|

|   |   |
|---|---|
|0|0|
|0|0|

|   |   |
|---|---|
|0|0|
|1|1|

|   |   |
|---|---|
|0|1|
|0|0|

두번째 표를 보면 모두가 0이니 4개를 1개로 표현할 수 있다. 이를 이용해 그림을 트리로 표현한다면

  

![[Untitled 1 19.png|Untitled 1 19.png]]

  

이러한 트리가 만들어질 것이다. 위 그림은 쿼드 트리(공간 데이터 구조)고, 깊이 우선 순회를 하였다.

[[DFS & BFS]]

  

표의 모든 색이 같은 경우, 하위 트리를 만들지 않는다. 원래대로의 그림이라면 64개의 픽셀로 그림을 표현해야 하지만, 쿼드 트리를 이용한 재귀 함수로 표현하면 40개의 픽셀로 표현할 수 있다. 즉, 압축이 가능하다는 뜻이다.

  

설계한 컴퓨터에 반환값을 여러 개를 저장할 수 없다는 문제점이 있다.

스택(stack, 후입선출(LIFO))을 활용하면 반환값을 여러 개를 저장할 수 있다.

뿐만 아니라, 지역 변수도 스택에 저장하고 이를 통해 함수 호출이 서로 독립되게 만든다.

  

함수 호출마다 스택에 저장되는 데이터 모음(지역 변수, 반환 주소, 매개 변수)을 스택 프레임이라 한다.